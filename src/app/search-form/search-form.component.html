<div class="container small-view">

  <form [formGroup]="searchForm" (ngSubmit)="submitSearch()">

<br>





  





  
    <mat-accordion multi="true" opened >


      <mat-expansion-panel opened>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon class="mr-3">search</mat-icon>
          </mat-panel-title>
          <mat-panel-description>
            <p>Volltext</p>
          </mat-panel-description>
        </mat-expansion-panel-header>
       
        <mat-form-field class="w-100 mt-4" appearance="outline">
          <mat-label>Volltext</mat-label>
          <input matInput placeholder="Full text search" formControlName="fullTextSearch">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>

      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
         
          <mat-panel-title>
            <mat-icon class="mr-3">manage_search</mat-icon>
          </mat-panel-title>
          <mat-panel-description>
            <p>Feldspezifische Suche</p>
          </mat-panel-description>
        
        </mat-expansion-panel-header>
       
        <div formArrayName="specificFieldGroups">
          <div *ngFor="let group of specificFieldGroups.controls; let i=index" [formGroupName]="i">
    
            <div class="row">
              <div class="col-8">
                <mat-form-field class="w-100  mt-4" appearance="outline">
                  <mat-label>Feldauswahl</mat-label>
                  <mat-select placeholder="Specific field" formControlName="specificField">
                    <mat-option *ngFor="let field of specificFields" [value]="field.fieldName">
                      {{ field.uiTitle }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-2">
    
              </div>
            </div>
    
    
            <div class="row">
              <div class="col-8">
                <mat-form-field class="w-100" appearance="outline">
                  <input matInput placeholder="Search in specific field" formControlName="specificFieldSearch">
                </mat-form-field>
              </div>
              <div class="col-2 d-flex justify-content-center mt-2 pl-0">
                <button mat-mini-fab color="primary" *ngIf="i > 0" (click)="removeSpecificFieldGroup(i)">
                  <mat-icon>remove</mat-icon>
                </button>
              </div>
            </div>
      
            <mat-divider></mat-divider>

      
             
          </div>
        </div>
      
        <button class="mt-3" mat-mini-fab (click)="addSpecificFieldGroup()">
          <mat-icon>add</mat-icon>
        </button>
      

      </mat-expansion-panel>

        <mat-expansion-panel opened>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon class="mr-3">checklist</mat-icon>
            </mat-panel-title>
            <mat-panel-description>
              <p>Filter</p>
            </mat-panel-description>
          
          </mat-expansion-panel-header>
  
        </mat-expansion-panel>
  
  
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon class="mr-3">date_range</mat-icon>
            </mat-panel-title>
            <mat-panel-description>
              <p>Datum</p>
            </mat-panel-description>
          
          </mat-expansion-panel-header>
  
        </mat-expansion-panel>

      </mat-accordion>

    <!-- Submit and Reset buttons -->
  </form>

  <mat-divider class="w-100 py-4"></mat-divider>

  <mat-chip-grid #chipGrid aria-label="Fruit selection">
    <mat-chip *ngFor="let chip of fruits" (removed)="removeChip(chip)">
      {{ chip }}
      <button matChipRemove>
        <mat-icon>cancel</mat-icon>
      </button>
    </mat-chip>
  </mat-chip-grid>

  <br>
   
  <br>
  </div>
  
  <div class="container search-view">
    <button mat-flat-button class="w-75 mt-2" color="primary" (click)="submitSearch()"><mat-icon class="mr-3">search</mat-icon> Suche</button>
    <button mat-flat-button class="w-25 mt-2" color="warn" (click)="resetSearch()"><mat-icon class="mr-3">reset_alt</mat-icon> Reset</button>
  </div>
  